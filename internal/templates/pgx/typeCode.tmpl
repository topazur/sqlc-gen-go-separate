{{define "typeCodePgx"}}
{{range .GoQueries}}
{{if $.OutputQuery .SourceName}}

{{/* 由于抽离类型逻辑则不再区分cmd是否是batch {{if ne (hasPrefix .Cmd ":batch") true}} */}}
{{if .Arg.EmitStruct}}
type {{.Arg.Type}} struct { {{- range .Arg.Struct.Fields}}
  {{.Name}} {{.Type}} {{if .Tag}}{{$.Q}}{{.Tag}}{{$.Q}}{{end}}
  {{- end}}
}
{{end}}

{{if .Ret.EmitStruct}}
type {{.Ret.Type}} struct { {{- range .Ret.Struct.Fields}}
  {{.Name}} {{.Type}} {{if .Tag}}{{$.Q}}{{.Tag}}{{$.Q}}{{end}}
  {{- end}}
}
{{/* {{end}} */}}
{{end}}

{{end}}
{{end}}
{{end}}
